




<!DOCTYPE html>
<html lang="zh"><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">

<meta name="keywords" content="[创建自动伸缩, 云计算]">


<meta name="description" content="这里是企业云文档页面">

<link rel="icon" href="https://console.petaexpress.com/assets/cdn/hinata/0a234310-78f9-4323-8d59-2b36ac15120a-favicon.ico" type="image/x-icon">

<title>自动伸缩 - 用户指南</title>
<link href="/css/bulma.css" rel="stylesheet">
<link href="/css/bulma-tooltip.min.css" rel="stylesheet">
<link href="/css/atom-one-light.css" rel="stylesheet" />
<link href="/css/magnific-popup.css" rel="stylesheet" />


<link href="/scss/main.min.e407fb236ca21333e8c63516ab2f144dd2cdbdaf2eca08e58895ff89ce74abc3.css" rel="stylesheet" integrity="sha256-5Af7I2yiEzPoxjUWqy8UTdLNva8uygjliJX/ic50q8M=">

<script src="/js/jquery-2.2.4.js"></script>
<body
        class="root   "
        style=""
        ><header>
  <nav class="navbar">
    
      <a href="/" class="navbar-logo-wrapper">
        <img class="navbar-logo" src="https://console.petaexpress.com/assets/cdn/hinata/ba65c1e6-b7a4-4085-b0e2-23104d8e71e1-logo_en.svg" />
        <div class="navbar-split navbar-left-split">|</div>
        <div class="navbar-logo-text">企业云</div>
      </a>
    
    <div class="navbar-nav">
      <div
        class="navbar-nav-item navbar-nav-version "
        style="display:none;">
        
        <div class="dropdown-trigger">
          <span class="project-version">
            v6.1
          </span>
          
        </div>
        
      </div>
      
    </div>
    <div class="search navbar-search">
      <form action="/v6.1/search/" method="GET">
        <div class="control has-icons-left has-icons-right docs-search-input">
          <span class="icon is-left">
            <img src="/images/icons/magnifier_duotone.svg" />
          </span>
          <input
            class="input"
            name="q"
            type="input"
            placeholder="请输入关键字快速获取帮助"
            autocomplete="off"
          />
          <span class="icon is-right"> </span>
        </div>
        <img class="clear-search-input" src="/images/icons/close_duotone.svg" />
      </form>
      <div class="search-result navbar-search-result">
        <div class="search-result-loading"></div>
        <div class="search-result-content"></div>
        <div class="search-result-none">
          没有找到搜索结果， 请更换关键词重新搜索
        </div>
      </div>
    </div>
    
      
      
        
          <a class="navbar-item-right btn primary-btn navbar-btn "
            target="_blank"
            data-url="https://console.petaexpress.com"
            data-text="控制台"
            href="https://console.petaexpress.com">
            控制台
          </a>
        
      
    
  </nav>
</header><script id="search-result-total-template" type="text/x-js-template">
  <div class="search-result-total">
    共为您找到 ${count} 个结果
  </div>
</script>

<script id="search-result-item-template" type="text/x-js-template">
  <div class="search-result-content-item">
    <div class="search-result-content-item-title">
      <a href="${href}">${title}</a>
    </div>
    <div class="search-result-content-item-content">
      ${content}
    </div>
    <div class="search-result-content-item-ref">
      <ul class="content-breadcrumb">
      </ul>
    </div>
  </div>
</div>
</script>

<script id="search-breadcrumb-template" type="text/x-js-template">
  <li class="icon-slash_fill">
    <a href="${href}">${title}</a>
  </li>
</script>

<script id="search-result-total-template" type="text/x-js-template">
  <div class="search-result-total">
    共为您找到 ${count} 个结果
  </div>
</script>
<script id="search-result-page-template" type="text/x-js-template">
  <nav class="search-result-pagination pagination is-centered">
    <a class="pagination-previous icon-chevron_left_fill"></a>
    <a class="pagination-next icon-chevron_right_fill"></a>
    <ul class="pagination-list">
    </ul>
  </nav>
</script>
<div class="container">

  


  
    
  


<aside class="sidebar-wrapper">
  <div class="sidebar-drag"></div>
  <div class="sidebar">
    
      <div class="sidebar-title" >
        <a href="/v6.1/operation/autoscaling/">
          
            自动伸缩
        </a>
        
          <span class="icon-menu_fill"></span>
        
      </div>
      
        <div class="search-sidebar-wrapper">
          
<div class="search search-sidebar">
  <div class="control has-icons-left has-icons-right docs-search-input">
    <span class="icon is-left">
      <img src="/images/icons/magnifier_duotone.svg" />
    </span>
    <input class="input" name="q" type="input" placeholder="请输入关键字快速获取帮助" autocomplete="off" />
    <span class="icon is-right"> </span>
  </div>
  <img class="clear-search-input" src="/images/icons/close_duotone.svg" />
</div>
<div class="search-sidebar-result columns">
  
    <div class="column">
      
        
          <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-computing_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">计算</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/compute/vm/">
      云服务器
    </a>
    
    <a href="/v6.1/compute/hpc/">
      弹性高性能计算 EHPC
    </a>
    
    <a href="/v6.1/compute/image/">
      镜像
    </a>
    
    <a href="/v6.1/compute/ssh/">
      SSH 密钥
    </a>
    
    <a href="/v6.1/compute/instance_group/">
      安置策略组
    </a>
    
    <a href="/v6.1/compute/migration/">
      跨区域迁移
    </a>
    
  </div>
</div>
        
      
        
      
        
      
        
      
        
          <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-database_cache_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">数据库</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/database/mysql/">
      关系型数据库 MySQL Plus
    </a>
    
    <a href="/v6.1/database/postgresql/">
      关系型数据库 PostgreSQL
    </a>
    
    <a href="/v6.1/database/radondb/">
      分布式数据库 RadonDB
    </a>
    
    <a href="/v6.1/database/polondb/">
      分布式数据库 PolonDB
    </a>
    
    <a href="/v6.1/database/chronusdb/">
      时序数据库 ChronusDB
    </a>
    
    <a href="/v6.1/database/mongodb/">
      文档数据库 MongoDB
    </a>
    
    <a href="/v6.1/database/mongodb_cluster/">
      文档数据库 MongoDB Cluster
    </a>
    
    <a href="/v6.1/database/redis_standalone/">
      键值数据库 Redis Standalone
    </a>
    
    <a href="/v6.1/database/redis_cluster/">
      键值数据库 Redis Cluster
    </a>
    
  </div>
</div>
        
      
        
      
        
      
        
      
        
          <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-container_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">容器</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/container/qke_plus/">
      容器引擎 QKE
    </a>
    
    <a href="/v6.1/container/harbor/">
      Harbor 镜像仓库
    </a>
    
  </div>
</div>
        
      
        
      
        
      
        
      
        
          <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-operation_manage_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">运维与管理</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/operation/migration/">
      服务器迁移中心
    </a>
    
    <a href="/v6.1/operation/topology/">
      资源编排
    </a>
    
    <a href="/v6.1/operation/resource/">
      资源管理
    </a>
    
    <a href="/v6.1/operation/autoscaling/">
      自动伸缩
    </a>
    
    <a href="/v6.1/operation/tools/">
      运维工具
    </a>
    
    <a href="/v6.1/operation/vmware/">
      VMware 纳管
    </a>
    
  </div>
</div>
        
      
        
      
    </div>
    <div class="column">
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-storage_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">存储</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/storage/disk/">
      硬盘
    </a>
    
    <a href="/v6.1/storage/backup/">
      备份
    </a>
    
    <a href="/v6.1/storage/object_storage/">
      对象存储
    </a>
    
    <a href="/v6.1/storage/epfs/">
      文件存储 EPFS
    </a>
    
    <a href="/v6.1/storage/vnas/">
      文件存储 vNAS
    </a>
    
    <a href="/v6.1/storage/qfs/">
      文件存储 QFS
    </a>
    
  </div>
</div>
      
      
      
      
      
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-mq_middleware_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">消息队列与中间件</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/middware/kafka/">
      Kafka 服务
    </a>
    
    <a href="/v6.1/middware/rabbitmq/">
      RabbitMQ 服务
    </a>
    
    <a href="/v6.1/middware/etcd/">
      Etcd 服务
    </a>
    
    <a href="/v6.1/middware/api_gateway/">
      API 网关
    </a>
    
  </div>
</div>
      
      
      
      
      
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-shield_key_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">安全</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/security/firewall/">
      云防火墙 CFW
    </a>
    
    <a href="/v6.1/security/srp/">
      安全资源池
    </a>
    
    <a href="/v6.1/security/hss/">
      主机安全
    </a>
    
  </div>
</div>
      
      
      
      
      
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-data_warehouse_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">用户服务</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/services/bill_center/">
      费用中心
    </a>
    
    <a href="/v6.1/services/notification-center/">
      消息中心
    </a>
    
    <a href="/v6.1/services/vdc/">
      企业管理
    </a>
    
  </div>
</div>
      
      
    </div>
    <div class="column">
      
      
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-nat_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">网络服务</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/network/vpc/">
      VPC 网络
    </a>
    
    <a href="/v6.1/network/nat_gateway/">
      NAT 网关
    </a>
    
    <a href="/v6.1/network/eip/">
      弹性公网 EIP
    </a>
    
    <a href="/v6.1/network/loadbalancer/">
      负载均衡
    </a>
    
    <a href="/v6.1/network/border_router/">
      边界路由器
    </a>
    
    <a href="/v6.1/network/security_group/">
      安全组
    </a>
    
    <a href="/v6.1/network/acl/">
      网络访问控制
    </a>
    
    <a href="/v6.1/network/mcn/">
      流量牵引服务
    </a>
    
  </div>
</div>
      
      
      
      
      
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-bigdata_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">大数据服务</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/bigdata/elk/">
      ELK 服务
    </a>
    
    <a href="/v6.1/bigdata/opensearch/">
      OpenSearch 服务
    </a>
    
    <a href="/v6.1/bigdata/zookeeper/">
      ZooKeeper 服务
    </a>
    
  </div>
</div>
      
      
      
      
      
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-monitor_service_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">监控服务</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/monitor_service/cloudsat/">
      云监控 CloudSat
    </a>
    
  </div>
</div>
      
      
      
      
      
      
      
      
    </div>
    <div class="column">
      
      
      
      
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-apps_5_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">AppCenter</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/appcenter/market/">
      AppCenter 控制台
    </a>
    
    <a href="/v6.1/appcenter/dev-platform/">
      应用开发平台
    </a>
    
  </div>
</div>
      
      
      
      
      
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-bi_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">数据仓库与 BI</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/dwh_bi/clickhouse/">
      ClickHouse
    </a>
    
  </div>
</div>
      
      
      
      
      
      
      
      
      
      <div class="search-sidebar-result-item">
  <div class="search-sidebar-result-item-title">
    
    <span class="search-sidebar-result-item-title-icon content-item-title-icon icon-human_gear_duotone">
      <span class="path1"></span>
      <span class="path2"></span>
      <span class="path3"></span>
      <span class="path4"></span>
      <span class="path5"></span>
      <span class="path6"></span>
      <span class="path7"></span>
      <span class="path8"></span>
      <span class="path9"></span>
      <span class="path10"></span>
      <span class="path11"></span>
      <span class="path12"></span>
      <span class="path13"></span>
      <span class="path14"></span>
      <span class="path15"></span>
    </span>
    
    <span class="search-sidebar-result-item-title-text">访问与鉴权</span>
  </div>
  <div class="search-sidebar-result-item-children">
    
    <a href="/v6.1/authorization/iam/">
      访问鉴权管理
    </a>
    
    <a href="/v6.1/authorization/account/">
      账户中心
    </a>
    
    <a href="/v6.1/authorization/access_key/">
      API 密钥
    </a>
    
  </div>
</div>
      
      
      
      
      
      
    </div>
  
</div>
        </div>
      
    
    <nav class="sidebar-menu">
      
        
        <ul>
  
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a >产品简介</a>
            
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v6.1/operation/autoscaling/intro/intro/">产品简介</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item active ">
            <a >操作指南</a>
            
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_up_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item active current">
            <a href="/v6.1/operation/autoscaling/manual/autoscaling/">自动伸缩</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
</ul>
      
    </nav>

  </div>
</aside>
<div class="content-card-wrapper">
  <div class="content-card">
    <div class="content-wrapper"><ul class="content-breadcrumb">
      <li class="icon-slash_fill"><a href="/v6.1" data-url="/v6.1">用户指南</a></li>
      <li class="icon-slash_fill"><a href="/v6.1/operation/autoscaling" data-url="/v6.1/operation/autoscaling">自动伸缩</a></li>
        
        <li class="icon-slash_fill"><a href="/v6.1/operation/autoscaling/manual/autoscaling/" data-url="/v6.1/operation/autoscaling/manual">操作指南</a></li>
      <li class="icon-slash_fill"><a href="/v6.1/operation/autoscaling/manual/autoscaling" data-url="/v6.1/operation/autoscaling/manual/autoscaling">自动伸缩</a></li></ul><div class="post-wrapper"><div class="post">
  <h1 class="post-title">
    自动伸缩</h1>
  <div class="post-info">
    <div class="post-date">
      更新时间：2024-03-07 19:06:53
    </div>
    
    
    
    
    
    
    
      <div
        class="tag post-tag export-pdf has-tooltip-top has-tooltip-arrow"
        data-tooltip="下载范围：所属一级目录的全部内容"
        data-url="/v6.1/operation/autoscaling/manual">
        <span class="icon-format_pdf_2_fill"></span>
        PDF
      </div>
      
    
  </div><div class="post-menu">
  <div class="post-menu-title">本页目录</div>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#_创建自动伸缩">创建自动伸缩</a>
      <ul>
        <li><a href="#_云服务器启动配置">云服务器启动配置</a></li>
        <li><a href="#_创建自动伸缩策略">创建自动伸缩策略</a></li>
        <li><a href="#_触发条件">触发条件</a></li>
        <li><a href="#_操作参数">操作参数</a></li>
      </ul>
    </li>
    <li><a href="#_执行自动伸缩">执行自动伸缩</a></li>
    <li><a href="#_查看自动伸缩历史记录">查看自动伸缩历史记录</a></li>
  </ul>
</nav>
</div><div class="post-content">
    
      
      
<div class="sect1">
<h2 id="_创建自动伸缩">创建自动伸缩</h2>
<div class="sectionbody">
<div class="paragraph">
<p>下面以负载均衡器的自动伸缩为例，介绍创建的步骤。</p>
</div>
<div class="sect2">
<h3 id="_云服务器启动配置">云服务器启动配置</h3>
<div class="paragraph">
<p>只有负载均衡器的自动伸缩需要进行云服务器启动配置，因为负载均衡器的横向扩充（scale out）会创建云服务器，而创建云服务器需要很多配置项，所以必须先准备好这些配置，以便在创建云服务器时可以按照我们指定的配置来创建。</p>
</div>
<div class="paragraph">
<p><strong>前提条件</strong></p>
</div>
<div class="paragraph">
<p>在进行云服务器启动配置前，必须先创建自有镜像。</p>
</div>
<div class="paragraph">
<p>创建云服务器启动配置的步骤：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>登录管理控制台。</p>
</li>
<li>
<p>选择<strong>运维与管理</strong> &gt; <strong>自动伸缩</strong>，进入自动伸缩页面。</p>
</li>
<li>
<p>在左侧的导航栏中，点击<strong>云服务器启动配置</strong>，切换到云服务器启动配置页。</p>
</li>
<li>
<p>点击<strong>创建</strong>，开始设置创建云服务器需要的参数。</p>
<div class="ulist">
<ul>
<li>
<p>自有映像：基于这个镜像创建新云服务器的操作系统。这样新建的云服务器初始便带有已搭好的环境。</p>
</li>
<li>
<p>选择主机：选择主机类型，包括基础型、企业型 e2。</p>
</li>
<li>
<p>配置：主机的 CPU 和内存配置。</p>
</li>
<li>
<p>云服务器网络：云服务器要加入的网络，包括基础网络、受管私有网络和自管私有网络。</p>
</li>
<li>
<p>SSH 登录方式：密码登录或 SSH 密钥登录（推荐 <code>SSH 密钥</code>登录，更安全）。</p>
</li>
<li>
<p>用户名：默认为 <code>root</code>。</p>
</li>
<li>
<p>SSH 密钥：当 SSH 登录方式选择 <code>SSH 密钥</code>时，需选择 SSH 密钥。</p>
</li>
<li>
<p>防火墙：云服务器使用的防火墙。</p>
</li>
<li>
<p>用户数据：即用户自定义数据，可让用户在创建云服务器时通过上传一些自定义的参数或脚本。更多请见<a href="../../../../compute/vm/manual/userdata/">自定义数据</a>。</p>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/create-launch-configuration.png" alt="create launch configuration" width="80%"/>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>设置后点击<strong>提交</strong>即可。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_创建自动伸缩策略">创建自动伸缩策略</h3>
<div class="paragraph">
<p>在自动伸缩页面，点击<strong>创建</strong>，选择操作类型、资源类型、资源 ID 以及资源发生自动伸缩操作后接收通知的列表等信息。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/create-autoscaling-policy.png" alt="create autoscaling policy" width="80%"/>
</div>
</div>
<div class="paragraph">
<p>提交后进入自动伸缩策略的详情页面，页面中左侧是刚才设置的信息和关联的资源，右侧是伸缩规则。</p>
</div>
<div class="paragraph">
<p>其中，数据库服务与应用存储空间的自动伸缩只支持扩容规则（硬盘不支持缩小容量）。</p>
</div>
<div class="paragraph">
<p>公网IP带宽、负载均衡器和应用节点数量都支持<strong>扩大</strong>和<strong>减少</strong>两种规则。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/autoscaling-policy-detail-page-empty.png" alt="autoscaling policy detail page empty"/>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_触发条件">触发条件</h3>
<div class="paragraph">
<p>下面开始定义触发条件，即根据监控数据设置阈值。如果达到阈值则触发自动伸缩。触发条件中可设置多条告警监控规则，规则之间可以是<code>所有</code>或<code>任意</code>关系。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>如果是<code>所有</code>关系，则每个告警规则都满足时，才能触发自动伸缩。</p>
</li>
<li>
<p>如果是<code>任意</code>关系，则一旦有一条告警规则满足，就会触发自动伸缩。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>这里我们设置若响应延迟时间大于 2 秒，且请求数和并发数都超出一定值的话， 则触发自动伸缩为负载均衡器增加后端。（关于监控告警策略的更多介绍可参考<a href="/v6.1/monitor_service/cloudsat/manual/alarm_service">监控告警</a>）</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/autoscaling-increase-trigger.png" alt="autoscaling increase trigger" width="80%"/>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_操作参数">操作参数</h3>
<div class="paragraph">
<p>第二步是设置具体的操作参数，也是 AutoScaling 在执行时会参考和判断的数值。如下面图中所示，负载均衡器在增加后端服务时，需要指定一次增加几台云服务器，以及最大数量是多少，还有创建云服务器所需的启动配置，负载均衡服务端口号等参数。服务端口、转发策略、权重含义可参见<a href="/v6.1/network/loadbalancer/intro/introduction">负载均衡器</a> 。</p>
</div>
<div class="paragraph">
<p>这里我们设置为增加 2 个后端服务器，启动配置选择刚才准备好的配置，新建的云服务器名称设为 <code>website</code>（创建后云服务器名称将会是 <code>website [controlled by asp-xxxx]</code>），并且后端的数量最多不超过 10 个。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/autoscaling-increase-params.png" alt="autoscaling increase params"/>
</div>
</div>
<table class="tableblock frame-all grid-all stretch admon attention">
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">注意</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>这里的最大值，是指由 AutoScaling 管理的后端数量。判断是否由 AutoScaling 管理目前是靠资源名称中是否带有 <code>controlled by asp-xxx</code> 来作为判断依据（其中 <code>asp-xxx</code> 是自动伸缩策略的 ID）。如果负载均衡器后端名称中包含这个标记，则会被 AutoScaling 调度， 如果没有则会被 AutoScaling 忽略。用户可根据需要自行修改资源名称，决定是否交由 AutoScaling 管理。</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>减少的规则也是类似。此例中若连续 3 个监控周期，请求数和并发数都比较低的话，就自动减少 1 个负载均衡器后端，且后端数量不少于 3 个。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/autoscaling-decrease-trigger.png" alt="autoscaling decrease trigger"/>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/autoscaling-decrease-params.png" alt="autoscaling decrease params"/>
</div>
</div>
<table class="tableblock frame-all grid-all stretch admon note">
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>请根据业务特点和运维情况，选择合适的监控项作为自动伸缩的触发条件，并设置适当的调节幅度。</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>至此自动伸缩策略创建完成。如果之后需要修改或调整，都可在自动伸缩策略详情页中操作。自动伸缩策略一旦创建完成，其<code>操作类型</code>和关联的<code>资源</code>便不可改变了。如果需要对其他资源做自动伸缩，请另行创建相应的策略。下图为创建完成后的自动伸缩详情页。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/autoscaling-policy-detail-page.png" alt="autoscaling policy detail page"/>
</div>
</div>
<table class="tableblock frame-all grid-all stretch admon note">
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>虽然支持扩大和减少两种规则，但只能设置其中一种。</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_执行自动伸缩">执行自动伸缩</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>立即执行</strong></p>
</div>
<div class="paragraph">
<p>当自动伸缩规则设定后，默认只有在触发条件满足时才会自动执行，但用户也可以选择立即执行自动伸缩。</p>
</div>
<div class="paragraph">
<p>在操作参数区域中的<strong>操作</strong>菜单中选择<strong>执行</strong>，可以立刻触发自动伸缩，系统将根据设定好的参数调整你的资源。</p>
</div>
<table class="tableblock frame-all grid-all stretch admon note">
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>每次成功执行完自动伸缩规则后，会有 <code>5 分钟</code>的冷却时间。在冷却时间内自动伸缩规则不接受新的执行请求，直至冷却时间结束。因此，在设置资源调整幅度时，需考虑冷却时间因素，设置恰当的调幅。</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>查看脚本</strong></p>
</div>
<div class="paragraph">
<p>自动伸缩规则设定后，会生成为类 python 的脚本，操作时会编译并执行这个脚本。在操作参数区域中的<strong>操作</strong>菜单中选择<strong>查看脚本</strong>，可以浏览这个脚本。</p>
</div>
<div class="paragraph">
<p>未来考虑将脚本的编写功能开放，让用户可以根据自己的需要自行编写脚本，这样自动伸缩功能就可支持更丰富、自定义的资源调度行为，满足有复杂需求的用户。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/autoscaling-script.png" alt="autoscaling script" width="80%"/>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_查看自动伸缩历史记录">查看自动伸缩历史记录</h2>
<div class="sectionbody">
<div class="paragraph">
<p>自动伸缩管理过程中的重要事件都会保存在历史记录中。这些重要事件包括：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>自动伸缩的执行记录，即执行过程中的所有API调用情况，以及脚本中的输出信息。</p>
</li>
<li>
<p>发送通知给通知列表的记录。</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/cloud_service/operation/autoscaling/autoscaling-history.png" alt="autoscaling history"/>
</div>
</div>
<div class="paragraph">
<p>历史记录会保留最近 <code>50</code> 条，更早的记录会定期删除。</p>
</div>
</div>
</div>

    

  </div>
  <div class="post-footer">
    <div class="post-prev">
    </div>
    <div class="post-next">
    </div>
  </div>
  <div class="post-back-to-top">
    <span class="icon-up_3_fill"></span>
  </div>
</div>
<div class="post-placeholder"><div class="post-menu">
  <div class="post-menu-title">本页目录</div>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#_创建自动伸缩">创建自动伸缩</a>
      <ul>
        <li><a href="#_云服务器启动配置">云服务器启动配置</a></li>
        <li><a href="#_创建自动伸缩策略">创建自动伸缩策略</a></li>
        <li><a href="#_触发条件">触发条件</a></li>
        <li><a href="#_操作参数">操作参数</a></li>
      </ul>
    </li>
    <li><a href="#_执行自动伸缩">执行自动伸缩</a></li>
    <li><a href="#_查看自动伸缩历史记录">查看自动伸缩历史记录</a></li>
  </ul>
</nav>
</div></div>
      </div>
    </div>
  </div>
</div></div>
    </body><script src="/js/bootstrap.min.js"></script>
<script src="/js/autocomplete/jquery.autocomplete.js"></script>
<script src="/js/copy-to-clipboard.js"></script>
<script src="/js/highlight.min.js"></script>
<script src="/js/jquery.tmpl.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/search/jquery.mark.min.js"></script>

<script type="text/javascript" src="/js/common.428b8a7f426567136e0501d49705f10dac2e4539d10c2f396d7c9ee45df1469eaa38e983928589e0e35ed30c1732ddbcda694ac0928ffffffee76b4a0017adf2.js" integrity="sha512-QouKf0JlZxNuBQHUlwXxDawuRTnRDC85bXye5F3xRp6qOOmDkoWJ4ONe0wwXMt282mlKwJKP///&#43;52tKABet8g=="></script>

<script type="text/javascript" src="/js/search.d8001c3e1b66b9a0b48e0c23ad0dbfc0906f194f8925ae78a9900b960679cfa7e41cebd9efd654f84535d02cbce7c4971f226e6f07288c26c3c4560c36d7655b.js"></script>
<script>
  $(function() {
    
    hljs.highlightAll();
    
    $.each($('.post-content .imageblock img'), function () {
      $(this).attr('data-mfp-src', $(this).attr('src'));
    });
    $('.post-content').magnificPopup({
      disableOn: function () {
        if ($(window).width() < 600) {
          return false;
        }
        return true;
      },
      delegate: '.imageblock img',
      type: 'image',
      gallery: {
        enabled: true,
      },
    });
  });
</script>
</html>
